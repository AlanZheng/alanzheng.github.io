<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Alan's Page</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="Description" lang="en" content="Alan's Page">
		<meta name="author" content="AlanZheng">
		<meta name="robots" content="index, follow">

		<!-- icons -->
		<link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
		<link rel="shortcut icon" href="/favicon.ico">

		<!-- Override CSS file - add your own CSS rules -->
        <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="/css/styles.css">
        
        <script src="/js/jquery.min.js"></script>
        <script src="/js/steem.min.js"></script>
        <script src="/js/page.js"></script>
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-8534265-3"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-8534265-3');
        </script>
        
        <!-- google adsense code -->
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2908538764657933",
            enable_page_level_ads: true
          });
        </script>
        
    <style>
        label { height: 25px; width:10%; }
        input { height: 25px; width: 20%; }
        button { 
            height: 30px; width: 20%;
        }
    </style>
        
	</head>
	<body>
    
        <div class="main">
        <script>
        $(document).ready(function(){
            $(".main").load("/mainbar.html");
        });
        </script>
        </div>
    
        <div class="sidebar">
        <script>
        $(document).ready(function(){
            $(".sidebar").load("/sidebar.html");
        });
        </script>
        </div>
        
        <div id="contents">
        
        <p align="center">
        Usage: <br/>
        [Votee] : the steemit user you will upvote.<br/>
        [Permlink] : the permlink you will upvote, it will upvote the lastest post if leave this blank.<br/>
        [Percent] : upvote percentage, maximum is 100.<br/>
        [Voter] : maybe yourself.<br/>
        [Wif] : your post private key, we don't save it.<br/><br/>
        Follow/Upvote me : <a href="https://steemit.com/@alanzheng">https://steemit.com/@alanzheng</a>
        </p>
        <div align="center">
        <label>Votee: </label><input type="text" id="votee" value="alanzheng">
        <label>Permlink: </label><input type="text" id="permlink" value="">
        <label>Percent: </label><input type="number" id="nb" value=100><br>
        <label>Voter: </label><input type="text" id="voter" value="alanzheng">
        <label>Wif: </label><input type="text" id="wif" value="">
        <button type="submit" id="fetch">Upvote</button>
        </div>
        <div id="info"></div>

        </div>
        
<script>
	function Upvote(){accounts=$("#votee").val().split(/\s+/),accounts.forEach(function(e,t,n){if(""!=$("#permlink").val())steem.broadcast.vote($("#wif").val(),$("#voter").val(),$("#votee").val(),$("#permlink").val(),100*Number($("#nb").val()),function(e,t){document.getElementById("info").innerHTML=e?JSON.stringify(e.message,void 0,2):JSON.stringify(t,void 0,2)})
    else{steem.api.getDiscussionsByAuthorBeforeDate(e,null,(new Date).toISOString().split(".")[0],1,function(t,n){n.forEach(function(t,n,i){steem.broadcast.vote($("#wif").val(),$("#voter").val(),e,t.permlink,100*Number($("#nb").val()),function(e,t){document.getElementById("info").innerHTML=e?JSON.stringify(e.message,void 0,2):JSON.stringify(t,void 0,2)})})})}})}steem.api.setOptions({url:"https://api.steemit.com"}),document.getElementById("fetch").addEventListener("click",Upvote)
</script>
        
	</body>
</html>